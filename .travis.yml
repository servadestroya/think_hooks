language: cpp
compiler:
- clang
addons:
  apt:
    packages:
    - g++-multilib
    - lib32z1-dev
install:
- git clone https://github.com/alliedmodders/ambuild.git $TRAVIS_BUILD_DIR/../ambuild
  && cd $TRAVIS_BUILD_DIR/../ambuild && python setup.py build && sudo python setup.py
  install
- git clone https://github.com/alliedmodders/metamod-source.git -b 1.10-dev $TRAVIS_BUILD_DIR/../metamod-source
- git clone https://github.com/alliedmodders/sourcemod.git --recursive -b 1.8-dev
  $TRAVIS_BUILD_DIR/../sourcemod
- cd $TRAVIS_BUILD_DIR/../
- wget https://raw.githubusercontent.com/alliedmodders/sourcemod/master/tools/checkout-deps.sh && chmod +x checkout-deps.sh
- ./checkout-deps.sh
script:
- mkdir $TRAVIS_BUILD_DIR/build && cd $TRAVIS_BUILD_DIR/build
- python ../configure.py --enable-optimize
- ambuild

